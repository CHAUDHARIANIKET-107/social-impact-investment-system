<div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
               <p>Fund Allocation & Performance Overview</p>
            </div>
            <div class="header-actions">
                <span class="badge">Active Fund</span>
                <button class="btn" (click)="onRecalculate()">
                    <span>üìä</span>
                    Recalculate
                </button>
            </div>
        </div>

        <!-- Key Metrics Row -->
        <div class="grid grid-4">
            <div class="card card-primary">
                <div class="card-header">
                    <h3 class="card-title">Total Fund Amount</h3>
                    <span class="card-icon">üí∞</span>
                </div>
                <div class="card-content">
                    <div class="card-value">
                        <div class="slider-container">
                            <input type="range" min="0" max="1000000000" step="10000" [(ngModel)]="totalFundAmount" class="fund-slider" />
                            <span class="slider-label">‚Çπ{{ totalFundAmount | number }}</span>
                            <button *ngIf="totalFundAmount" class="clear-btn" (click)="totalFundAmount=''" aria-label="Clear">
                                <i class="pi pi-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card card-info">
                <div class="card-header">
                    <h3 class="card-title">Total Investors</h3>
                    <span class="card-icon">üë•</span>
                </div>
                <div class="card-content">
                    <div class="card-value">156</div>
                </div>
            </div>

            <div class="card card-profit">
                <div class="card-header">
                    <h3 class="card-title">Profit Percentage</h3>
                    <span class="card-icon card-icon-success">üìà</span>
                </div>
                <div class="card-content">
                    <div class="card-value card-value-success">
                        <div class="slider-container">
                            <input type="range" min="0" max="100" step="0.1" [(ngModel)]="profitPercentage" class="fund-slider" />
                            <span class="slider-label">{{ profitPercentage }}%</span>
                            <span class="slider-label greyed">‚Çπ{{profitamount}}</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card card-warning">
                <div class="card-header">
                    <h3 class="card-title">Management Fees</h3>
                    <span class="card-icon card-icon-warning">üè¢</span>
                </div>
                <div class="card-content">
                    <div class="card-value card-value-warning">
                        <div class="slider-container">
                            <input type="range" min="0" max="100" step="0.01" [(ngModel)]="managementFees" class="fund-slider" />
                            <span class="slider-label">{{ managementFees }}%</span>
                            <span class="slider-label greyed">‚Çπ{{ managementfeesamount }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Allocation Settings -->
        <div class="grid grid-4">
            <div class="card card-profit">  
                <div class="card-header">
                    <h3 class="card-title">Profit sharing for CSR</h3>
                    <span class="card-icon card-icon-success">‚úÖ</span>
                </div>
                <div class="card-content">
                    <div class="card-value card-value-success">
                        <div class="slider-container">
                            <input type="range" min="0" max="100" step="0.1" [(ngModel)]="csrProfitShare" class="fund-slider" />
                            <span class="slider-label">{{ csrProfitShare }}%</span>
                            <span class="slider-label greyed">‚Çπ{{csrProfitshareamount}}</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card card-profit">
                <div class="card-header">
                    <h3 class="card-title">Beneficiary Fund Pool</h3>
                    <span class="card-icon card-icon-success">üéØ</span>
                </div>
                <div class="card-content">
                    <div class="card-value card-value-success">
                        <div class="slider-container">
                            <span class="slider-label">‚Çπ{{ beneficiaryfundpool }}</span>
                        </div>
                    </div>
                </div>
            </div>

            
        </div>

        <!-- Results Row -->
        <div class="grid grid-3">
            <div class="grid grid-3">
                <div class="card card-profit">
                    <div class="card-header">
                        <h3 class="card-title">Bond Investment Return Beneficiaries Share</h3>
                        <span class="card-icon card-icon-success">üéØ</span>
                    </div>
                    <div class="card-content">
                        <div class="card-value card-value-success">
                            <div class="slider-container">
                                <input type="range" min="0" max="100" step="0.1" [(ngModel)]="beneficiaryShare" class="fund-slider" />
                                <span class="slider-label">{{ beneficiaryShare }}%</span>
                            </div>
                        </div>
                    </div>
                </div>

                

                <div class="card card-warning">
                    <div class="card-header">
                        <h3 class="card-title">
                            <span class="icon">üìä</span>
                            Profit Breakdown
                        </h3>
                    </div>
                    <div class="card-content">
                        <div class="stats-grid">
                            <div class="breakdown-item">
                                <span class="breakdown-label">Total Return</span>
                                <span class="breakdown-value breakdown-value-success">
                                    ‚Çπ{{ totalReturn | number }}
                                </span>
                            </div>
                            <div class="breakdown-item">
                                <span class="breakdown-label">Management Fees</span>
                                <span class="breakdown-value breakdown-value-warning">
                                    ‚Çπ{{ managementFeesAmount | number }}
                                </span>
                            </div>
                            <div class="breakdown-item">
                                <span class="breakdown-label">Net Profit Investors</span>
                                <span class="breakdown-value breakdown-value-success">
                                    ‚Çπ{{ netProfitInvestors | number }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
             <div class="grid grid-3">
                
            <div class="card card-profit">
                    <div class="card-header">
                        <h3 class="card-title">Bond Investment Return Bank Return</h3>
                        <span class="card-icon card-icon-success">üéØ</span>
                    </div>
                    <div class="card-content">
                        <div class="card-value card-value-success">
                            <div class="slider-container">
                                <input type="range" min="0" max="100" step="0.1" [(ngModel)]="bankShare" class="fund-slider" />
                                <span class="slider-label">{{ bankShare }}%</span>
                            </div>
                        </div>
                    </div>
                </div>    
            <!-- Final Allocations -->
            <div class="card card-warning">
                <div class="card-header">
                    <h3 class="card-title">
                        <span class="icon">üìà</span>
                        Final Allocation
                    </h3>
                </div>
                <div class="card-content">
                    <div class="stats-grid">
                        <div class="breakdown-item">
                            <span class="breakdown-label">Beneficiaries</span>
                            <span class="breakdown-value breakdown-value-success">
                                ‚Çπ{{ beneficiariesAmount | number }}
                            </span>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-label">Bank</span>
                            <span class="breakdown-value breakdown-value-primary">
                                ‚Çπ{{ bankAmount | number }}
                            </span>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-label">Investors</span>
                            <span class="breakdown-value breakdown-value-success">
                                ‚Çπ{{ investorsAmount | number }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
             </div>
            <!-- Profit Breakdown -->
            

            <!-- Performance Stats -->
            <div class="card card-warning">
                <div class="card-header">
                    <h3 class="card-title">
                        <span class="icon">üìä</span>
                        Profit Distribution
                    </h3>
                </div>
                <div class="card-content">
                     <div style="width: 300px; height: 300px; margin: 0 auto;">
                         <p-chart type="pie" [data]="profitPieData" [options]="{ plugins: { legend: { position: 'bottom', labels: { boxWidth: 20, padding: 16 }, align: 'center', display: true, fullSize: true } } }" [style]="{width: '100%', height: '100%'}"></p-chart>
                     </div>
                </div>
            </div>
        </div>
    </div>